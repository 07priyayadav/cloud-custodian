

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>c7n.filters package &mdash; Cloud Custodian  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/c1_labs.ico"/>
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/css/expand.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Cloud Custodian  documentation" href="../index.html"/>
        <link rel="up" title="c7n package" href="c7n.html"/>
        <link rel="next" title="c7n.reports package" href="c7n.reports.html"/>
        <link rel="prev" title="c7n package" href="c7n.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Cloud Custodian
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/usage.html">Monitoring your environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/advanced.html">Advanced Usage</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/offhours.html">Example offhours policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/tagCompliance.html">Example tag compliance policy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usecases/index.html">Use Cases</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AWS Lambda</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../policy/lambda.html">Lambda Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../policy/mu.html">Mu - Lambda Lifecycle Management</a></li>
</ul>
<p class="caption"><span class="caption-text">Policies reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../policy/index.html">Resource-Specific Filters and Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filters.html">Generic Filters</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">Contributing to Cloud Custodian</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/installing.html">Installing for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../developer/tests.html">Testing for Developers</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">c7n</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="c7n.html">c7n package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="c7n.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">c7n.filters package</a></li>
<li class="toctree-l4"><a class="reference internal" href="c7n.reports.html">c7n.reports package</a></li>
<li class="toctree-l4"><a class="reference internal" href="c7n.resources.html">c7n.resources package</a></li>
<li class="toctree-l4"><a class="reference internal" href="c7n.ufuncs.html">c7n.ufuncs package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.actions">c7n.actions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.cache">c7n.cache module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.cli">c7n.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.commands">c7n.commands module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.credentials">c7n.credentials module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.ctx">c7n.ctx module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.cwe">c7n.cwe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.executor">c7n.executor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.handler">c7n.handler module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.log">c7n.log module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.logs_support">c7n.logs_support module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.manager">c7n.manager module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.mu">c7n.mu module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.output">c7n.output module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.policy">c7n.policy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.query">c7n.query module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.registry">c7n.registry module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.resolver">c7n.resolver module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.schema">c7n.schema module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.sqsexec">c7n.sqsexec module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.tags">c7n.tags module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.utils">c7n.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n.version">c7n.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.html#module-c7n">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Cloud Custodian</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">c7n</a> &raquo;</li>
        
          <li><a href="c7n.html">c7n package</a> &raquo;</li>
        
      <li>c7n.filters package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="c7n-filters-package">
<h1>c7n.filters package<a class="headerlink" href="#c7n-filters-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-c7n.filters.core">
<span id="c7n-filters-core-module"></span><h2>c7n.filters.core module<a class="headerlink" href="#module-c7n.filters.core" title="Permalink to this headline">¶</a></h2>
<p>Resource Filtering Logic</p>
<dl class="class">
<dt id="c7n.filters.core.AgeFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.core.</code><code class="descname">AgeFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#AgeFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.AgeFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Automatically filter resources older than a given date.</p>
<dl class="attribute">
<dt id="c7n.filters.core.AgeFilter.date_attribute">
<code class="descname">date_attribute</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.core.AgeFilter.date_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.AgeFilter.get_resource_date">
<code class="descname">get_resource_date</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#AgeFilter.get_resource_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.AgeFilter.get_resource_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.AgeFilter.schema">
<code class="descname">schema</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.core.AgeFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.AgeFilter.threshold_date">
<code class="descname">threshold_date</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.core.AgeFilter.threshold_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.AgeFilter.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#AgeFilter.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.AgeFilter.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.core.And">
<em class="property">class </em><code class="descclassname">c7n.filters.core.</code><code class="descname">And</code><span class="sig-paren">(</span><em>data</em>, <em>registry</em>, <em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#And"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.And" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<dl class="method">
<dt id="c7n.filters.core.And.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>events=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#And.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.And.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.And.type">
<code class="descname">type</code><em class="property"> = u'and'</em><a class="headerlink" href="#c7n.filters.core.And.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.core.EventFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.core.</code><code class="descname">EventFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#EventFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.EventFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.ValueFilter" title="c7n.filters.core.ValueFilter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.ValueFilter</span></code></a></p>
<p>Filter against a cloudwatch event associated to a resource type.</p>
<dl class="method">
<dt id="c7n.filters.core.EventFilter.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#EventFilter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.EventFilter.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.EventFilter.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'default': {u'type': u'object'}, u'key': {u'type': u'string'}, u'value_from': {u'properties': {u'format': {u'enum': [u'csv', u'json', u'txt', u'csv2dict']}, u'expr': {u'oneOf': [{u'type': u'integer'}, {u'type': u'string'}]}, u'url': {u'type': u'string'}}, u'additionalProperties': u'False', u'type': u'object', u'required': [u'url']}, u'value_type': {u'enum': [u'age', u'integer', u'expiration', u'normalize', u'size', u'cidr', u'cidr_size', u'swap', u'resource_count', u'expr']}, u'op': {u'enum': [u'equal', u'lt', u'le', u'gte', u'ne', u'ni', u'not-equal', u'greater-than', u'gt', u'eq', u'contains', u'lte', u'regex', u'intersect', u'in', u'glob', u'not-in', u'less-than', u'ge']}, u'value': {u'oneOf': [{u'type': u'array'}, {u'type': u'string'}, {u'type': u'boolean'}, {u'type': u'number'}, {u'type': u'null'}]}, u'type': {u'enum': [u'event']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'type']}</em><a class="headerlink" href="#c7n.filters.core.EventFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.EventFilter.type">
<code class="descname">type</code><em class="property"> = u'event'</em><a class="headerlink" href="#c7n.filters.core.EventFilter.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.EventFilter.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#EventFilter.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.EventFilter.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.core.Filter">
<em class="property">class </em><code class="descclassname">c7n.filters.core.</code><code class="descname">Filter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="c7n.filters.core.Filter.executor_factory">
<code class="descname">executor_factory</code><a class="headerlink" href="#c7n.filters.core.Filter.executor_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal"><span class="pre">ThreadPoolExecutor</span></code></p>
</dd></dl>

<dl class="method">
<dt id="c7n.filters.core.Filter.get_permissions">
<code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Filter.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Filter.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.Filter.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#c7n.filters.core.Filter.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.Filter.metrics">
<code class="descname">metrics</code><em class="property"> = ()</em><a class="headerlink" href="#c7n.filters.core.Filter.metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.Filter.permissions">
<code class="descname">permissions</code><em class="property"> = ()</em><a class="headerlink" href="#c7n.filters.core.Filter.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.Filter.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Filter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Filter.process" title="Permalink to this definition">¶</a></dt>
<dd><p>Bulk process resources and return filtered set.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.Filter.schema">
<code class="descname">schema</code><em class="property"> = {u'type': u'object'}</em><a class="headerlink" href="#c7n.filters.core.Filter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.Filter.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Filter.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Filter.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>validate filter config, return validation error or self</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.core.FilterRegistry">
<em class="property">class </em><code class="descclassname">c7n.filters.core.</code><code class="descname">FilterRegistry</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#FilterRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.FilterRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.html#c7n.registry.PluginRegistry" title="c7n.registry.PluginRegistry"><code class="xref py py-class docutils literal"><span class="pre">c7n.registry.PluginRegistry</span></code></a></p>
<dl class="method">
<dt id="c7n.filters.core.FilterRegistry.factory">
<code class="descname">factory</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#FilterRegistry.factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.FilterRegistry.factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Factory func for filters.</p>
<p>data - policy config for filters
manager - resource type manager (ec2, s3, etc)</p>
</dd></dl>

<dl class="method">
<dt id="c7n.filters.core.FilterRegistry.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>data</em>, <em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#FilterRegistry.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.FilterRegistry.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="c7n.filters.core.FilterValidationError">
<em class="property">exception </em><code class="descclassname">c7n.filters.core.</code><code class="descname">FilterValidationError</code><a class="reference internal" href="../_modules/c7n/filters/core.html#FilterValidationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.FilterValidationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="c7n.filters.core.Not">
<em class="property">class </em><code class="descclassname">c7n.filters.core.</code><code class="descname">Not</code><span class="sig-paren">(</span><em>data</em>, <em>registry</em>, <em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Not"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Not" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<dl class="method">
<dt id="c7n.filters.core.Not.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Not.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Not.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.Not.process_set">
<code class="descname">process_set</code><span class="sig-paren">(</span><em>resources</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Not.process_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Not.process_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.Not.type">
<code class="descname">type</code><em class="property"> = u'not'</em><a class="headerlink" href="#c7n.filters.core.Not.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.core.Or">
<em class="property">class </em><code class="descclassname">c7n.filters.core.</code><code class="descname">Or</code><span class="sig-paren">(</span><em>data</em>, <em>registry</em>, <em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Or"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Or" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<dl class="method">
<dt id="c7n.filters.core.Or.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Or.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Or.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.Or.process_set">
<code class="descname">process_set</code><span class="sig-paren">(</span><em>resources</em>, <em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#Or.process_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.Or.process_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.Or.type">
<code class="descname">type</code><em class="property"> = u'or'</em><a class="headerlink" href="#c7n.filters.core.Or.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.core.ValueFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.core.</code><code class="descname">ValueFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#ValueFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.ValueFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Generic value filter using jmespath</p>
<dl class="attribute">
<dt id="c7n.filters.core.ValueFilter.annotate">
<code class="descname">annotate</code><em class="property"> = True</em><a class="headerlink" href="#c7n.filters.core.ValueFilter.annotate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.ValueFilter.expr">
<code class="descname">expr</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.core.ValueFilter.expr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.ValueFilter.get_resource_value">
<code class="descname">get_resource_value</code><span class="sig-paren">(</span><em>k</em>, <em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#ValueFilter.get_resource_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.ValueFilter.get_resource_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.ValueFilter.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#ValueFilter.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.ValueFilter.match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.ValueFilter.op">
<code class="descname">op</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.core.ValueFilter.op" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.ValueFilter.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#ValueFilter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.ValueFilter.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.ValueFilter.process_value_type">
<code class="descname">process_value_type</code><span class="sig-paren">(</span><em>sentinel</em>, <em>value</em>, <em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#ValueFilter.process_value_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.ValueFilter.process_value_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.ValueFilter.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'default': {u'type': u'object'}, u'key': {u'type': u'string'}, u'value_from': {u'properties': {u'format': {u'enum': [u'csv', u'json', u'txt', u'csv2dict']}, u'expr': {u'oneOf': [{u'type': u'integer'}, {u'type': u'string'}]}, u'url': {u'type': u'string'}}, u'additionalProperties': u'False', u'type': u'object', u'required': [u'url']}, u'value_type': {u'enum': [u'age', u'integer', u'expiration', u'normalize', u'size', u'cidr', u'cidr_size', u'swap', u'resource_count', u'expr']}, u'op': {u'enum': [u'equal', u'lt', u'le', u'gte', u'ne', u'ni', u'not-equal', u'greater-than', u'gt', u'eq', u'contains', u'lte', u'regex', u'intersect', u'in', u'glob', u'not-in', u'less-than', u'ge']}, u'value': {u'oneOf': [{u'type': u'array'}, {u'type': u'string'}, {u'type': u'boolean'}, {u'type': u'number'}, {u'type': u'null'}]}, u'type': {u'enum': [u'value']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'type']}</em><a class="headerlink" href="#c7n.filters.core.ValueFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.ValueFilter.type">
<code class="descname">type</code><em class="property"> = u'value'</em><a class="headerlink" href="#c7n.filters.core.ValueFilter.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.ValueFilter.v">
<code class="descname">v</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.core.ValueFilter.v" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.core.ValueFilter.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#ValueFilter.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.ValueFilter.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.core.ValueFilter.vtype">
<code class="descname">vtype</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.core.ValueFilter.vtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.filters.core.glob_match">
<code class="descclassname">c7n.filters.core.</code><code class="descname">glob_match</code><span class="sig-paren">(</span><em>value</em>, <em>pattern</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#glob_match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.glob_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.filters.core.intersect">
<code class="descclassname">c7n.filters.core.</code><code class="descname">intersect</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#intersect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.intersect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.filters.core.operator_in">
<code class="descclassname">c7n.filters.core.</code><code class="descname">operator_in</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#operator_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.operator_in" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.filters.core.operator_ni">
<code class="descclassname">c7n.filters.core.</code><code class="descname">operator_ni</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#operator_ni"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.operator_ni" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.filters.core.regex_match">
<code class="descclassname">c7n.filters.core.</code><code class="descname">regex_match</code><span class="sig-paren">(</span><em>value</em>, <em>regex</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/core.html#regex_match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.core.regex_match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.filters.health">
<span id="c7n-filters-health-module"></span><h2>c7n.filters.health module<a class="headerlink" href="#module-c7n.filters.health" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.filters.health.HealthEventFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.health.</code><code class="descname">HealthEventFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/health.html#HealthEventFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.health.HealthEventFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Check if there are health events related to the resources</p>
<p>Health events are stored as annotation on a resource.</p>
<dl class="method">
<dt id="c7n.filters.health.HealthEventFilter.get_filter_parameters">
<code class="descname">get_filter_parameters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/health.html#HealthEventFilter.get_filter_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.health.HealthEventFilter.get_filter_parameters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.health.HealthEventFilter.permissions">
<code class="descname">permissions</code><em class="property"> = (u'health:DescribeEvents', u'health:DescribeAffectedEntities', u'health:DescribeEventDetails')</em><a class="headerlink" href="#c7n.filters.health.HealthEventFilter.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.health.HealthEventFilter.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/health.html#HealthEventFilter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.health.HealthEventFilter.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.health.HealthEventFilter.process_event">
<code class="descname">process_event</code><span class="sig-paren">(</span><em>health_events</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/health.html#HealthEventFilter.process_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.health.HealthEventFilter.process_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.health.HealthEventFilter.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {'types': {u'items': {u'type': u'string'}, u'type': u'array'}, u'type': {u'enum': [u'health-event']}, 'statuses': {u'items': {u'enum': [u'open', u'upcoming', u'closed'], u'type': u'string'}, u'type': u'array'}}, u'additionalProperties': False, u'type': u'object', u'required': [u'type']}</em><a class="headerlink" href="#c7n.filters.health.HealthEventFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.filters.iamaccess">
<span id="c7n-filters-iamaccess-module"></span><h2>c7n.filters.iamaccess module<a class="headerlink" href="#module-c7n.filters.iamaccess" title="Permalink to this headline">¶</a></h2>
<div class="section" id="iam-resource-policy-checker">
<h3>IAM Resource Policy Checker<a class="headerlink" href="#iam-resource-policy-checker" title="Permalink to this headline">¶</a></h3>
<p>When securing resources with iam policies, we want to parse and evaluate
the resource’s policy for any cross account or public access grants that
are not intended.</p>
<p>In general, iam policies can be complex, and where possible using iam
simulate is preferrable, but requires passing the caller’s arn, which
is not feasible when we’re evaluating who the valid set of callers
are.</p>
<p>References</p>
<ul class="simple">
<li>IAM Policy Evaluation - <a class="reference external" href="http://goo.gl/sH5Dt5">http://goo.gl/sH5Dt5</a></li>
<li>IAM Policy Reference - <a class="reference external" href="http://goo.gl/U0a06y">http://goo.gl/U0a06y</a></li>
</ul>
<dl class="class">
<dt id="c7n.filters.iamaccess.CrossAccountAccessFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.iamaccess.</code><code class="descname">CrossAccountAccessFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/iamaccess.html#CrossAccountAccessFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.iamaccess.CrossAccountAccessFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Check a resource’s embedded iam policy for cross account access.</p>
<dl class="attribute">
<dt id="c7n.filters.iamaccess.CrossAccountAccessFilter.annotation_key">
<code class="descname">annotation_key</code><em class="property"> = u'CrossAccountViolations'</em><a class="headerlink" href="#c7n.filters.iamaccess.CrossAccountAccessFilter.annotation_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.iamaccess.CrossAccountAccessFilter.get_accounts">
<code class="descname">get_accounts</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/iamaccess.html#CrossAccountAccessFilter.get_accounts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.iamaccess.CrossAccountAccessFilter.get_accounts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.iamaccess.CrossAccountAccessFilter.get_resource_policy">
<code class="descname">get_resource_policy</code><span class="sig-paren">(</span><em>r</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/iamaccess.html#CrossAccountAccessFilter.get_resource_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.iamaccess.CrossAccountAccessFilter.get_resource_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.iamaccess.CrossAccountAccessFilter.policy_attribute">
<code class="descname">policy_attribute</code><em class="property"> = u'Policy'</em><a class="headerlink" href="#c7n.filters.iamaccess.CrossAccountAccessFilter.policy_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.iamaccess.CrossAccountAccessFilter.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/iamaccess.html#CrossAccountAccessFilter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.iamaccess.CrossAccountAccessFilter.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.iamaccess.CrossAccountAccessFilter.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {'everyone_only': {u'type': u'boolean'}, 'actions': {u'items': {u'type': u'string'}, u'type': u'array'}, 'whitelist_conditions': {u'items': {u'type': u'string'}, u'type': u'array'}, 'whitelist_from': {u'properties': {u'format': {u'enum': [u'csv', u'json', u'txt', u'csv2dict']}, u'expr': {u'oneOf': [{u'type': u'integer'}, {u'type': u'string'}]}, u'url': {u'type': u'string'}}, u'additionalProperties': u'False', u'type': u'object', u'required': [u'url']}, 'whitelist': {u'items': {u'type': u'string'}, u'type': u'array'}, u'type': {u'enum': [u'cross-account']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'type']}</em><a class="headerlink" href="#c7n.filters.iamaccess.CrossAccountAccessFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.filters.iamaccess.check_cross_account">
<code class="descclassname">c7n.filters.iamaccess.</code><code class="descname">check_cross_account</code><span class="sig-paren">(</span><em>policy_text</em>, <em>allowed_accounts</em>, <em>everyone_only</em>, <em>conditions</em>, <em>check_actions</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/iamaccess.html#check_cross_account"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.iamaccess.check_cross_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Find cross account access policy grant not explicitly allowed</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-c7n.filters.locked">
<span id="c7n-filters-locked-module"></span><h2>c7n.filters.locked module<a class="headerlink" href="#module-c7n.filters.locked" title="Permalink to this headline">¶</a></h2>
<p>Filters for api integration with tools/c7n_sphere11</p>
<dl class="class">
<dt id="c7n.filters.locked.Locked">
<em class="property">class </em><code class="descclassname">c7n.filters.locked.</code><code class="descname">Locked</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/locked.html#Locked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.locked.Locked" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Has the resource been locked using sphere11</p>
<dl class="method">
<dt id="c7n.filters.locked.Locked.get_api_credentials">
<code class="descname">get_api_credentials</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/locked.html#Locked.get_api_credentials"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.locked.Locked.get_api_credentials" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.locked.Locked.get_lock_status">
<code class="descname">get_lock_status</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/locked.html#Locked.get_lock_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.locked.Locked.get_lock_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.locked.Locked.get_parent_id">
<code class="descname">get_parent_id</code><span class="sig-paren">(</span><em>resource</em>, <em>account_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/locked.html#Locked.get_parent_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.locked.Locked.get_parent_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.locked.Locked.permissions">
<code class="descname">permissions</code><em class="property"> = ('sts:AssumeRole',)</em><a class="headerlink" href="#c7n.filters.locked.Locked.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.locked.Locked.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/locked.html#Locked.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.locked.Locked.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.locked.Locked.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {'endpoint': {'type': 'string'}, 'region': {'type': 'string'}, u'type': {u'enum': ['locked']}, 'role': {'type': 'string'}}, u'additionalProperties': False, u'type': u'object', u'required': ('endpoint',)}</em><a class="headerlink" href="#c7n.filters.locked.Locked.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.locked.SignatureAuth">
<em class="property">class </em><code class="descclassname">c7n.filters.locked.</code><code class="descname">SignatureAuth</code><span class="sig-paren">(</span><em>credentials</em>, <em>region</em>, <em>service</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/locked.html#SignatureAuth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.locked.SignatureAuth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">botocore.vendored.requests.auth.AuthBase</span></code></p>
<p>AWS V4 Request Signer for Requests.</p>
</dd></dl>

</div>
<div class="section" id="module-c7n.filters.metrics">
<span id="c7n-filters-metrics-module"></span><h2>c7n.filters.metrics module<a class="headerlink" href="#module-c7n.filters.metrics" title="Permalink to this headline">¶</a></h2>
<p>CloudWatch Metrics suppport for resources</p>
<dl class="class">
<dt id="c7n.filters.metrics.MetricsFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.metrics.</code><code class="descname">MetricsFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/metrics.html#MetricsFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Supports cloud watch metrics filters on resources.</p>
<p>All resources that have cloud watch metrics are supported.</p>
<p>Docs on cloud watch metrics</p>
<ul class="simple">
<li>GetMetricStatistics - <a class="reference external" href="http://goo.gl/w8mMEY">http://goo.gl/w8mMEY</a></li>
<li>Supported Metrics - <a class="reference external" href="http://goo.gl/n0E0L7">http://goo.gl/n0E0L7</a></li>
</ul>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2-underutilized</span>
  <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
  <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">metrics</span>
      <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">CPUUtilization</span>
      <span class="l l-Scalar l-Scalar-Plain">days</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
      <span class="l l-Scalar l-Scalar-Plain">period</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">86400</span>
      <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">30</span>
      <span class="l l-Scalar l-Scalar-Plain">op</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">less-than</span>
</pre></div>
</div>
<p>Note periods when a resource is not sending metrics are not part
of calculated statistics as in the case of a stopped ec2 instance,
nor for resources to new to have existed the entire
period. ie. being stopped for an ec2 intsance wouldn’t lower the
average cpu utilization, nor would</p>
<dl class="attribute">
<dt id="c7n.filters.metrics.MetricsFilter.DEFAULT_NAMESPACE">
<code class="descname">DEFAULT_NAMESPACE</code><em class="property"> = {u'logs': u'AWS/Logs', u'route53': u'AWS/Route53', u'redshift': u'AWS/Redshift', u'elb': u'AWS/ELB', u'rds': u'AWS/RDS', u'cloudfront': u'AWS/CloudFront', u'cloudsearch': u'AWS/CloudSearch', u'lambda': u'AWS/Lambda', u'events': u'AWS/Events', u'dynamodb': u'AWS/DynamoDB', u'elasticache': u'AWS/ElastiCache', u'es': u'AWS/ES', u'ec2': u'AWS/EC2', u'ecs': u'AWS/ECS', u'emr': u'AWS/EMR', u'sns': u'AWS/SNS', u's3': u'AWS/S3', u'kinesis': u'AWS/Kinesis', u'sqs': u'AWS/SQS', u'firehose': u'AWS/Firehose', u'elbv2': u'AWS/ApplicationELB'}</em><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter.DEFAULT_NAMESPACE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.metrics.MetricsFilter.MAX_QUERY_POINTS">
<code class="descname">MAX_QUERY_POINTS</code><em class="property"> = 50850</em><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter.MAX_QUERY_POINTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.metrics.MetricsFilter.MAX_RESULT_POINTS">
<code class="descname">MAX_RESULT_POINTS</code><em class="property"> = 1440</em><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter.MAX_RESULT_POINTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.metrics.MetricsFilter.get_dimensions">
<code class="descname">get_dimensions</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/metrics.html#MetricsFilter.get_dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter.get_dimensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.metrics.MetricsFilter.permissions">
<code class="descname">permissions</code><em class="property"> = (u'cloudwatch:GetMetricStatistics',)</em><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.metrics.MetricsFilter.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/metrics.html#MetricsFilter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.metrics.MetricsFilter.process_resource_set">
<code class="descname">process_resource_set</code><span class="sig-paren">(</span><em>resource_set</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/metrics.html#MetricsFilter.process_resource_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter.process_resource_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.metrics.MetricsFilter.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'percent-attr': {u'type': u'string'}, u'dimensions': {u'items': {u'type': u'string'}, u'type': u'array'}, u'name': {u'type': u'string'}, u'statistics': {u'enum': [u'Average', u'Sum', u'Maximum', u'Minimum', u'SampleCount'], u'type': u'string'}, u'attr-multiplier': {u'type': u'number'}, u'op': {u'enum': [u'equal', u'lt', u'le', u'gte', u'ne', u'ni', u'not-equal', u'greater-than', u'gt', u'eq', u'contains', u'lte', u'regex', u'intersect', u'in', u'glob', u'not-in', u'less-than', u'ge'], u'type': u'string'}, u'value': {u'type': u'number'}, u'namespace': {u'type': u'string'}, u'days': {u'type': u'number'}, u'period': {u'type': u'number'}, u'type': {u'enum': [u'metrics']}}, u'additionalProperties': False, u'type': u'object', u'required': (u'value', u'name')}</em><a class="headerlink" href="#c7n.filters.metrics.MetricsFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.metrics.ShieldMetrics">
<em class="property">class </em><code class="descclassname">c7n.filters.metrics.</code><code class="descname">ShieldMetrics</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/metrics.html#ShieldMetrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.metrics.ShieldMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.metrics.MetricsFilter" title="c7n.filters.metrics.MetricsFilter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.metrics.MetricsFilter</span></code></a></p>
<p>Specialized metrics filter for shield</p>
<dl class="attribute">
<dt id="c7n.filters.metrics.ShieldMetrics.attack_vectors">
<code class="descname">attack_vectors</code><em class="property"> = (u'ACKFlood', u'ChargenReflection', u'DNSReflection', u'GenericUDPReflection', u'MSSQLReflection', u'NetBIOSReflection', u'NTPReflection', u'PortMapper', u'RequestFlood', u'RIPReflection', u'SNMPReflection', u'SYNFlood', u'SSDPReflection', u'UDPTraffic', u'UDPFragment')</em><a class="headerlink" href="#c7n.filters.metrics.ShieldMetrics.attack_vectors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.metrics.ShieldMetrics.get_dimensions">
<code class="descname">get_dimensions</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/metrics.html#ShieldMetrics.get_dimensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.metrics.ShieldMetrics.get_dimensions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.metrics.ShieldMetrics.metrics">
<code class="descname">metrics</code><em class="property"> = (u'DDoSAttackBitsPerSecond', u'DDoSAttackRequestsPerSecond', u'DDoSDetected')</em><a class="headerlink" href="#c7n.filters.metrics.ShieldMetrics.metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.metrics.ShieldMetrics.namespace">
<code class="descname">namespace</code><em class="property"> = u'AWS/DDoSProtection'</em><a class="headerlink" href="#c7n.filters.metrics.ShieldMetrics.namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.metrics.ShieldMetrics.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/metrics.html#ShieldMetrics.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.metrics.ShieldMetrics.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.metrics.ShieldMetrics.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'percent-attr': {u'type': u'string'}, u'dimensions': {u'items': {u'type': u'string'}, u'type': u'array'}, u'name': {u'type': u'string'}, u'statistics': {u'enum': [u'Average', u'Sum', u'Maximum', u'Minimum', u'SampleCount'], u'type': u'string'}, u'attr-multiplier': {u'type': u'number'}, u'op': {u'enum': [u'equal', u'lt', u'le', u'gte', u'ne', u'ni', u'not-equal', u'greater-than', u'gt', u'eq', u'contains', u'lte', u'regex', u'intersect', u'in', u'glob', u'not-in', u'less-than', u'ge'], u'type': u'string'}, u'value': {u'type': u'number'}, u'namespace': {u'type': u'string'}, u'days': {u'type': u'number'}, u'period': {u'type': u'number'}, u'type': {u'enum': [u'shield-metrics']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'type']}</em><a class="headerlink" href="#c7n.filters.metrics.ShieldMetrics.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.metrics.ShieldMetrics.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/metrics.html#ShieldMetrics.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.metrics.ShieldMetrics.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.filters.offhours">
<span id="c7n-filters-offhours-module"></span><h2>c7n.filters.offhours module<a class="headerlink" href="#module-c7n.filters.offhours" title="Permalink to this headline">¶</a></h2>
<div class="section" id="resource-scheduling-offhours">
<h3>Resource Scheduling Offhours<a class="headerlink" href="#resource-scheduling-offhours" title="Permalink to this headline">¶</a></h3>
<p>Custodian provides for time based filters, that allow for taking periodic
action on a resource, with resource schedule customization based on tag values.
A common use is offhours scheduling for asgs and instances.</p>
</div>
<div class="section" id="features">
<h3>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Flexible offhours scheduling with opt-in, opt-out selection, and timezone
support.</li>
<li>Resume during offhours support.</li>
<li>Can be combined with other filters to get a particular set (
resources with tag, vpc, etc).</li>
<li>Can be combined with arbitrary actions</li>
</ul>
</div>
<div class="section" id="policy-configuration">
<h3>Policy Configuration<a class="headerlink" href="#policy-configuration" title="Permalink to this headline">¶</a></h3>
<p>We provide an <cite>onhour</cite> and <cite>offhour</cite> time filter, each should be used in a
different policy, they support the same configuration options:</p>
<blockquote>
<div><ul class="simple">
<li><strong>weekends</strong>: default true, whether to leave resources off for the weekend</li>
<li><strong>weekend-only</strong>: default false, whether to turn the resource off only on
the weekend</li>
<li><strong>default_tz</strong>: which timezone to utilize when evaluating time <strong>(REQUIRED)</strong></li>
<li><strong>tag</strong>: which resource tag name to use for per-resource configuration
(schedule and timezone overrides and opt-in/opt-out); default is
<code class="docutils literal"><span class="pre">maid_offhours</span></code>.</li>
<li><strong>opt-out</strong>: Determines the behavior for resources which do not have a tag
matching the one specified for <strong>tag</strong>. Values can be either <code class="docutils literal"><span class="pre">false</span></code> (the
default) where the policy operates on an opt-in basis and resources must have
the tag in order to be acted on by the policy, or <code class="docutils literal"><span class="pre">true</span></code> where the policy
operates on an opt-out basis, and resources without the tag are acted on by
the policy.</li>
<li><strong>onhour</strong>: the default time to start/run resources, specified as 0-23</li>
<li><strong>offhour</strong>: the default time to stop/suspend resources, specified as 0-23</li>
</ul>
</div></blockquote>
<p>This example policy overrides most of the defaults for an offhour policy:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">offhours-stop</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">offhour</span>
        <span class="l l-Scalar l-Scalar-Plain">weekends</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">false</span>
        <span class="l l-Scalar l-Scalar-Plain">default_tz</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">pt</span>
        <span class="l l-Scalar l-Scalar-Plain">tag</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">downtime</span>
        <span class="l l-Scalar l-Scalar-Plain">opt-out</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
        <span class="l l-Scalar l-Scalar-Plain">onhour</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
        <span class="l l-Scalar l-Scalar-Plain">offhour</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">20</span>
</pre></div>
</div>
</div>
<div class="section" id="tag-based-configuration">
<h3>Tag Based Configuration<a class="headerlink" href="#tag-based-configuration" title="Permalink to this headline">¶</a></h3>
<p>Resources can use a special tag to override the default configuration on a
per-resource basis. Note that the name of the tag is configurable via the
<code class="docutils literal"><span class="pre">tag</span></code> option in the policy; the examples below use the default tag name,
<code class="docutils literal"><span class="pre">maid_offhours</span></code>.</p>
<p>The value of the tag must be one of the following:</p>
<ul class="simple">
<li><strong>(empty)</strong> or <strong>on</strong> - An empty tag value or a value of “on” implies night
and weekend offhours using the default time zone configured in the policy
(tz=est if unspecified) and the default onhour and offhour values configured
in the policy.</li>
<li><strong>off</strong> - If offhours is configured to run in opt-out mode, this tag can be
specified to disable offhours on a given instance. If offhours is configured
to run in opt-in mode, this tag will have no effect (the resource will still
be opted out).</li>
<li>a semicolon-separated string composed of one or more of the following
components, which override the defaults specified in the policy:<ul>
<li><code class="docutils literal"><span class="pre">tz=&lt;timezone&gt;</span></code> to evaluate with a resource-specific timezone, where
<code class="docutils literal"><span class="pre">&lt;timezone&gt;</span></code> is either one of the supported timezone aliases defined in
<a class="reference internal" href="#c7n.filters.offhours.Time.TZ_ALIASES" title="c7n.filters.offhours.Time.TZ_ALIASES"><code class="xref py py-attr docutils literal"><span class="pre">c7n.filters.offhours.Time.TZ_ALIASES</span></code></a> (such as <code class="docutils literal"><span class="pre">pt</span></code>) or the name
of a geographic timezone identifier in
[IANA’s tzinfo database](<a class="reference external" href="https://www.iana.org/time-zones">https://www.iana.org/time-zones</a>), such as
<code class="docutils literal"><span class="pre">Americas/Los_Angeles</span></code>. <em>(Note all timezone aliases are
referenced to a locality to ensure taking into account local daylight
savings time, if applicable.)</em></li>
<li><code class="docutils literal"><span class="pre">off=(time</span> <span class="pre">spec)</span></code> and/or <code class="docutils literal"><span class="pre">on=(time</span> <span class="pre">spec)</span></code> matching time specifications
supported by <a class="reference internal" href="#c7n.filters.offhours.ScheduleParser" title="c7n.filters.offhours.ScheduleParser"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.offhours.ScheduleParser</span></code></a> as described
in the next section.</li>
</ul>
</li>
</ul>
<div class="section" id="scheduleparser-time-specifications">
<h4>ScheduleParser Time Specifications<a class="headerlink" href="#scheduleparser-time-specifications" title="Permalink to this headline">¶</a></h4>
<p>Each time specification follows the format <code class="docutils literal"><span class="pre">(days,hours)</span></code>. Multiple time
specifications can be combined in square-bracketed lists, i.e.
<code class="docutils literal"><span class="pre">[(days,hours),(days,hours),(days,hours)]</span></code>.</p>
<p><strong>Examples</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># up mon-fri from 7am-7pm; eastern time</span>
<span class="n">off</span><span class="o">=</span><span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">19</span><span class="p">);</span><span class="n">on</span><span class="o">=</span><span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="c1"># up mon-fri from 6am-9pm; up sun from 10am-6pm; pacific time</span>
<span class="n">off</span><span class="o">=</span><span class="p">[(</span><span class="n">M</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">21</span><span class="p">),(</span><span class="n">U</span><span class="p">,</span><span class="mi">18</span><span class="p">)];</span><span class="n">on</span><span class="o">=</span><span class="p">[(</span><span class="n">M</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="n">U</span><span class="p">,</span><span class="mi">10</span><span class="p">)];</span><span class="n">tz</span><span class="o">=</span><span class="n">pt</span>
</pre></div>
</div>
<p><strong>Possible values</strong>:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">field</th>
<th class="head">values</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>days</td>
<td>M, T, W, H, F, S, U</td>
</tr>
<tr class="row-odd"><td>hours</td>
<td>0, 1, 2, …, 22, 23</td>
</tr>
</tbody>
</table>
<p>Days can be specified in a range (ex. M-F).</p>
</div></blockquote>
</div>
</div>
<div class="section" id="policy-examples">
<h3>Policy examples<a class="headerlink" href="#policy-examples" title="Permalink to this headline">¶</a></h3>
<p>Turn ec2 instances on and off</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">offhours-stop</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">offhour</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">stop</span>

  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">offhours-start</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">onhour</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">start</span>
</pre></div>
</div>
<p>Here’s doing the same with auto scale groups</p>
<div class="highlight-yaml"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">asg-offhours-stop</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">asg</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">offhour</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">suspend</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">asg-onhours-start</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">asg</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">onhour</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">resume</span>
</pre></div>
</div>
<p>Additional policy examples and resource-type-specific information can be seen in
the <a class="reference internal" href="../usecases/ec2offhours.html#ec2offhours"><span class="std std-ref">EC2 Offhours</span></a> and <a class="reference internal" href="../usecases/asgoffhours.html#asgoffhours"><span class="std std-ref">ASG Offhours</span></a>
use cases.</p>
</div>
<div class="section" id="resume-during-offhours">
<h3>Resume During Offhours<a class="headerlink" href="#resume-during-offhours" title="Permalink to this headline">¶</a></h3>
<p>These policies are evaluated hourly; during each run (once an hour),
cloud-custodian will act on <strong>only</strong> the resources tagged for that <strong>exact</strong>
hour. In other words, if a resource has an offhours policy of
stopping/suspending at 23:00 Eastern daily and starting/resuming at 06:00
Eastern daily, and you run cloud-custodian once an hour via Lambda, that
resource will only be stopped once a day sometime between 23:00 and 23:59, and
will only be started once a day sometime between 06:00 and 06:59. If the current
hour does not <em>exactly</em> match the hour specified in the policy, nothing will be
done at all.</p>
<p>As a result of this, if custodian stops an instance or suspends an ASG and you
need to start/resume it, you can safely do so manually and custodian won’t touch
it again until the next day.</p>
</div>
<div class="section" id="elasticbeanstalk-efs-and-other-services-with-tag-value-restrictions">
<h3>ElasticBeanstalk, EFS and Other Services with Tag Value Restrictions<a class="headerlink" href="#elasticbeanstalk-efs-and-other-services-with-tag-value-restrictions" title="Permalink to this headline">¶</a></h3>
<p>A number of AWS services have restrictions on the characters that can be used
in tag values, such as <a class="reference external" href="http://docs.aws.amazon.com/elasticbeanstalk/latest/dg/using-features.tagging.html">ElasticBeanstalk</a> and <a class="reference external" href="http://docs.aws.amazon.com/efs/latest/ug/API_Tag.html">EFS</a>. In particular, these services do not allow
parenthesis, square brackets, commas, or semicolons, or empty tag values. This
proves to be problematic with the tag-based schedule configuration described
above. The best current workaround is to define a separate policy with a unique
<code class="docutils literal"><span class="pre">tag</span></code> name for each unique schedule that you want to use, and then tag
resources with that tag name and a value of <code class="docutils literal"><span class="pre">on</span></code>. Note that this can only be
used in opt-in mode, not opt-out.</p>
<dl class="class">
<dt id="c7n.filters.offhours.OffHour">
<em class="property">class </em><code class="descclassname">c7n.filters.offhours.</code><code class="descname">OffHour</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#OffHour"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.OffHour" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.offhours.Time" title="c7n.filters.offhours.Time"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.offhours.Time</span></code></a></p>
<dl class="attribute">
<dt id="c7n.filters.offhours.OffHour.DEFAULT_HR">
<code class="descname">DEFAULT_HR</code><em class="property"> = 19</em><a class="headerlink" href="#c7n.filters.offhours.OffHour.DEFAULT_HR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.OffHour.get_default_schedule">
<code class="descname">get_default_schedule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#OffHour.get_default_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.OffHour.get_default_schedule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.OffHour.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'opt-out': {u'type': u'boolean'}, u'weekends-only': {u'type': u'boolean'}, u'tag': {u'type': u'string'}, 'offhour': {u'minimum': 0, u'maximum': 23, u'type': u'integer'}, u'default_tz': {u'type': u'string'}, u'weekends': {u'type': u'boolean'}, u'type': {u'enum': [u'offhour']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'offhour', u'default_tz', u'type']}</em><a class="headerlink" href="#c7n.filters.offhours.OffHour.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.OffHour.time_type">
<code class="descname">time_type</code><em class="property"> = u'off'</em><a class="headerlink" href="#c7n.filters.offhours.OffHour.time_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.offhours.OnHour">
<em class="property">class </em><code class="descclassname">c7n.filters.offhours.</code><code class="descname">OnHour</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#OnHour"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.OnHour" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.offhours.Time" title="c7n.filters.offhours.Time"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.offhours.Time</span></code></a></p>
<dl class="attribute">
<dt id="c7n.filters.offhours.OnHour.DEFAULT_HR">
<code class="descname">DEFAULT_HR</code><em class="property"> = 7</em><a class="headerlink" href="#c7n.filters.offhours.OnHour.DEFAULT_HR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.OnHour.get_default_schedule">
<code class="descname">get_default_schedule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#OnHour.get_default_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.OnHour.get_default_schedule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.OnHour.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'opt-out': {u'type': u'boolean'}, u'weekends-only': {u'type': u'boolean'}, u'tag': {u'type': u'string'}, 'onhour': {u'minimum': 0, u'maximum': 23, u'type': u'integer'}, u'default_tz': {u'type': u'string'}, u'weekends': {u'type': u'boolean'}, u'type': {u'enum': [u'onhour']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'onhour', u'default_tz', u'type']}</em><a class="headerlink" href="#c7n.filters.offhours.OnHour.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.OnHour.time_type">
<code class="descname">time_type</code><em class="property"> = u'on'</em><a class="headerlink" href="#c7n.filters.offhours.OnHour.time_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.offhours.ScheduleParser">
<em class="property">class </em><code class="descclassname">c7n.filters.offhours.</code><code class="descname">ScheduleParser</code><span class="sig-paren">(</span><em>default_schedule</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#ScheduleParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Parses tag values for custom on/off hours schedules.</p>
<p>At the minimum the <code class="docutils literal"><span class="pre">on</span></code> and <code class="docutils literal"><span class="pre">off</span></code> values are required. Each of
these must be seperated by a <code class="docutils literal"><span class="pre">;</span></code> in the format described below.</p>
<p><strong>Schedule format</strong>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># up mon-fri from 7am-7pm; eastern time</span>
<span class="n">off</span><span class="o">=</span><span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">19</span><span class="p">);</span><span class="n">on</span><span class="o">=</span><span class="p">(</span><span class="n">M</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">7</span><span class="p">)</span>
<span class="c1"># up mon-fri from 6am-9pm; up sun from 10am-6pm; pacific time</span>
<span class="n">off</span><span class="o">=</span><span class="p">[(</span><span class="n">M</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">21</span><span class="p">),(</span><span class="n">U</span><span class="p">,</span><span class="mi">18</span><span class="p">)];</span><span class="n">on</span><span class="o">=</span><span class="p">[(</span><span class="n">M</span><span class="o">-</span><span class="n">F</span><span class="p">,</span><span class="mi">6</span><span class="p">),(</span><span class="n">U</span><span class="p">,</span><span class="mi">10</span><span class="p">)];</span><span class="n">tz</span><span class="o">=</span><span class="n">pt</span>
</pre></div>
</div>
<p><strong>Possible values</strong>:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">field</th>
<th class="head">values</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>days</td>
<td>M, T, W, H, F, S, U</td>
</tr>
<tr class="row-odd"><td>hours</td>
<td>0, 1, 2, …, 22, 23</td>
</tr>
</tbody>
</table>
<p>Days can be specified in a range (ex. M-F).</p>
</div></blockquote>
<p>If the timezone is not supplied, it is assumed ET (eastern time), but this
default can be configurable.</p>
<p><strong>Parser output</strong>:</p>
<p>The schedule parser will return a <code class="docutils literal"><span class="pre">dict</span></code> or <code class="docutils literal"><span class="pre">None</span></code> (if the schedule is
invalid):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># off=[(M-F,21),(U,18)];on=[(M-F,6),(U,10)];tz=pt</span>
<span class="p">{</span>
  <span class="n">off</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="n">days</span><span class="p">:</span> <span class="s2">&quot;M-F&quot;</span><span class="p">,</span> <span class="n">hour</span><span class="p">:</span> <span class="mi">21</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">days</span><span class="p">:</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">hour</span><span class="p">:</span> <span class="mi">18</span> <span class="p">}</span>
  <span class="p">],</span>
  <span class="n">on</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="n">days</span><span class="p">:</span> <span class="s2">&quot;M-F&quot;</span><span class="p">,</span> <span class="n">hour</span><span class="p">:</span> <span class="mi">6</span> <span class="p">},</span>
    <span class="p">{</span> <span class="n">days</span><span class="p">:</span> <span class="s2">&quot;U&quot;</span><span class="p">,</span> <span class="n">hour</span><span class="p">:</span> <span class="mi">10</span> <span class="p">}</span>
  <span class="p">],</span>
  <span class="n">tz</span><span class="p">:</span> <span class="s2">&quot;pt&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="c7n.filters.offhours.ScheduleParser.DAY_MAP">
<code class="descname">DAY_MAP</code><em class="property"> = {u'm': 0, u'h': 3, u'f': 4, u't': 1, u'u': 6, u'w': 2, u's': 5}</em><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser.DAY_MAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.ScheduleParser.VALID_HOURS">
<code class="descname">VALID_HOURS</code><em class="property"> = (0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23)</em><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser.VALID_HOURS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.ScheduleParser.expand_day_range">
<code class="descname">expand_day_range</code><span class="sig-paren">(</span><em>days</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#ScheduleParser.expand_day_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser.expand_day_range" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.filters.offhours.ScheduleParser.has_resource_schedule">
<em class="property">static </em><code class="descname">has_resource_schedule</code><span class="sig-paren">(</span><em>tag_value</em>, <em>time_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#ScheduleParser.has_resource_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser.has_resource_schedule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.ScheduleParser.keys_are_valid">
<code class="descname">keys_are_valid</code><span class="sig-paren">(</span><em>tag_value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#ScheduleParser.keys_are_valid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser.keys_are_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>test that provided tag keys are valid</p>
</dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.ScheduleParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>tag_value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#ScheduleParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.ScheduleParser.parse_resource_schedule">
<code class="descname">parse_resource_schedule</code><span class="sig-paren">(</span><em>lexeme</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#ScheduleParser.parse_resource_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser.parse_resource_schedule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.filters.offhours.ScheduleParser.raw_data">
<em class="property">static </em><code class="descname">raw_data</code><span class="sig-paren">(</span><em>tag_value</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#ScheduleParser.raw_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.ScheduleParser.raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the tag to a dictionary, taking values as is</p>
<p>This method name and purpose are opaque…  and not true.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.offhours.Time">
<em class="property">class </em><code class="descclassname">c7n.filters.offhours.</code><code class="descname">Time</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#Time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.Time" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<dl class="attribute">
<dt id="c7n.filters.offhours.Time.DEFAULT_TAG">
<code class="descname">DEFAULT_TAG</code><em class="property"> = u'maid_offhours'</em><a class="headerlink" href="#c7n.filters.offhours.Time.DEFAULT_TAG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.Time.DEFAULT_TZ">
<code class="descname">DEFAULT_TZ</code><em class="property"> = u'et'</em><a class="headerlink" href="#c7n.filters.offhours.Time.DEFAULT_TZ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.Time.TZ_ALIASES">
<code class="descname">TZ_ALIASES</code><em class="property"> = {u'it': u'Asia/Kolkata', u'sgt': u'Asia/Singapore', u'gt': u'Etc/GMT', u'ct': u'America/Chicago', u'mdt': u'America/Denver', u'et': u'America/New_York', u'at': u'America/Phoenix', u'mst': u'America/Denver', u'edt': u'America/New_York', u'cdt': u'America/Chicago', u'kst': u'Asia/Seoul', u'est': u'America/New_York', u'cst': u'America/Chicago', u'jst': u'Asia/Tokyo', u'pt': u'America/Los_Angeles', u'bst': u'Europe/London', u'gmt': u'Etc/GMT', u'ast': u'America/Phoenix', u'pst': u'America/Los_Angeles', u'cet': u'Europe/Berlin', u'ist': u'Europe/Dublin', u'aet': u'Australia/Sydney', u'pdt': u'America/Los_Angeles', u'brt': u'America/Sao_Paulo', u'mt': u'America/Denver'}</em><a class="headerlink" href="#c7n.filters.offhours.Time.TZ_ALIASES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.Time.get_default_schedule">
<code class="descname">get_default_schedule</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#Time.get_default_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.Time.get_default_schedule" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.Time.get_tag_value">
<code class="descname">get_tag_value</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#Time.get_tag_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.Time.get_tag_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the resource’s tag value specifying its schedule.</p>
</dd></dl>

<dl class="classmethod">
<dt id="c7n.filters.offhours.Time.get_tz">
<em class="property">classmethod </em><code class="descname">get_tz</code><span class="sig-paren">(</span><em>tz</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#Time.get_tz"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.Time.get_tz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.Time.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>now</em>, <em>schedule</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#Time.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.Time.match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.Time.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#Time.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.Time.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.Time.process_resource_schedule">
<code class="descname">process_resource_schedule</code><span class="sig-paren">(</span><em>i</em>, <em>value</em>, <em>time_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#Time.process_resource_schedule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.Time.process_resource_schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the resource tag schedule and policy match the current time.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.Time.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'weekends-only': {u'type': u'boolean'}, u'tag': {u'type': u'string'}, u'default_tz': {u'type': u'string'}, u'opt-out': {u'type': u'boolean'}, u'weekends': {u'type': u'boolean'}}, u'type': u'object'}</em><a class="headerlink" href="#c7n.filters.offhours.Time.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.offhours.Time.time_type">
<code class="descname">time_type</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.offhours.Time.time_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.offhours.Time.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#Time.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.Time.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.filters.offhours.brackets_removed">
<code class="descclassname">c7n.filters.offhours.</code><code class="descname">brackets_removed</code><span class="sig-paren">(</span><em>u</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#brackets_removed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.brackets_removed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.filters.offhours.parens_removed">
<code class="descclassname">c7n.filters.offhours.</code><code class="descname">parens_removed</code><span class="sig-paren">(</span><em>u</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/offhours.html#parens_removed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.offhours.parens_removed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="module-c7n.filters.related">
<span id="c7n-filters-related-module"></span><h2>c7n.filters.related module<a class="headerlink" href="#module-c7n.filters.related" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.filters.related.RelatedResourceFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.related.</code><code class="descname">RelatedResourceFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/related.html#RelatedResourceFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.ValueFilter" title="c7n.filters.core.ValueFilter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.ValueFilter</span></code></a></p>
<dl class="attribute">
<dt id="c7n.filters.related.RelatedResourceFilter.AnnotationKey">
<code class="descname">AnnotationKey</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.AnnotationKey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.related.RelatedResourceFilter.FetchThreshold">
<code class="descname">FetchThreshold</code><em class="property"> = 10</em><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.FetchThreshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.related.RelatedResourceFilter.RelatedIdsExpression">
<code class="descname">RelatedIdsExpression</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.RelatedIdsExpression" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.related.RelatedResourceFilter.RelatedResource">
<code class="descname">RelatedResource</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.RelatedResource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.related.RelatedResourceFilter.get_permissions">
<code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/related.html#RelatedResourceFilter.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.related.RelatedResourceFilter.get_related">
<code class="descname">get_related</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/related.html#RelatedResourceFilter.get_related"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.get_related" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.related.RelatedResourceFilter.get_related_ids">
<code class="descname">get_related_ids</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/related.html#RelatedResourceFilter.get_related_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.get_related_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.related.RelatedResourceFilter.get_resource_manager">
<code class="descname">get_resource_manager</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/related.html#RelatedResourceFilter.get_resource_manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.get_resource_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.related.RelatedResourceFilter.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/related.html#RelatedResourceFilter.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.related.RelatedResourceFilter.process_resource">
<code class="descname">process_resource</code><span class="sig-paren">(</span><em>resource</em>, <em>related</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/related.html#RelatedResourceFilter.process_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.process_resource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.related.RelatedResourceFilter.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/related.html#RelatedResourceFilter.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.related.RelatedResourceFilter.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.filters.revisions">
<span id="c7n-filters-revisions-module"></span><h2>c7n.filters.revisions module<a class="headerlink" href="#module-c7n.filters.revisions" title="Permalink to this headline">¶</a></h2>
<p>Custodian support for diffing and patching across multiple versions
of a resource.</p>
<dl class="class">
<dt id="c7n.filters.revisions.Diff">
<em class="property">class </em><code class="descclassname">c7n.filters.revisions.</code><code class="descname">Diff</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/revisions.html#Diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.revisions.Diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Compute the diff from the current resource to a previous version.</p>
<p>A resource matches the filter if a diff exists between the current
resource and the selected revision.</p>
<p>Utilizes config as a resource revision database.</p>
<p>Revisions can be selected by date, against the previous version, and
against a locked version (requires use of is-locked filter).</p>
<dl class="method">
<dt id="c7n.filters.revisions.Diff.diff">
<code class="descname">diff</code><span class="sig-paren">(</span><em>source</em>, <em>target</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/revisions.html#Diff.diff"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.revisions.Diff.diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.revisions.Diff.get_revisions">
<code class="descname">get_revisions</code><span class="sig-paren">(</span><em>config</em>, <em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/revisions.html#Diff.get_revisions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.revisions.Diff.get_revisions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.revisions.Diff.get_selector_params">
<code class="descname">get_selector_params</code><span class="sig-paren">(</span><em>resource</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/revisions.html#Diff.get_selector_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.revisions.Diff.get_selector_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.revisions.Diff.mode">
<code class="descname">mode</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.revisions.Diff.mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.revisions.Diff.parser">
<code class="descname">parser</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.revisions.Diff.parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.revisions.Diff.permissions">
<code class="descname">permissions</code><em class="property"> = (u'config:GetResourceConfigHistory',)</em><a class="headerlink" href="#c7n.filters.revisions.Diff.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.revisions.Diff.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/revisions.html#Diff.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.revisions.Diff.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.revisions.Diff.resource_shape">
<code class="descname">resource_shape</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.revisions.Diff.resource_shape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.revisions.Diff.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {'selector': {u'enum': [u'previous', u'date', u'locked']}, u'type': {u'enum': [u'diff']}, 'selector_value': {u'type': u'string'}}, u'additionalProperties': False, u'type': u'object', u'required': [u'type']}</em><a class="headerlink" href="#c7n.filters.revisions.Diff.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.revisions.Diff.select_revision">
<code class="descname">select_revision</code><span class="sig-paren">(</span><em>revisions</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/revisions.html#Diff.select_revision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.revisions.Diff.select_revision" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.revisions.Diff.selector_value">
<code class="descname">selector_value</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.revisions.Diff.selector_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.revisions.Diff.transform_revision">
<code class="descname">transform_revision</code><span class="sig-paren">(</span><em>revision</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/revisions.html#Diff.transform_revision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.revisions.Diff.transform_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>make config revision look like describe output.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.filters.revisions.Diff.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/revisions.html#Diff.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.revisions.Diff.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.filters.vpc">
<span id="c7n-filters-vpc-module"></span><h2>c7n.filters.vpc module<a class="headerlink" href="#module-c7n.filters.vpc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.filters.vpc.DefaultVpcBase">
<em class="property">class </em><code class="descclassname">c7n.filters.vpc.</code><code class="descname">DefaultVpcBase</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/vpc.html#DefaultVpcBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.vpc.DefaultVpcBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Filter to resources in a default vpc.</p>
<dl class="attribute">
<dt id="c7n.filters.vpc.DefaultVpcBase.default_vpc">
<code class="descname">default_vpc</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.vpc.DefaultVpcBase.default_vpc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.vpc.DefaultVpcBase.match">
<code class="descname">match</code><span class="sig-paren">(</span><em>vpc_id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/vpc.html#DefaultVpcBase.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.vpc.DefaultVpcBase.match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.vpc.DefaultVpcBase.permissions">
<code class="descname">permissions</code><em class="property"> = (u'ec2:DescribeVpcs',)</em><a class="headerlink" href="#c7n.filters.vpc.DefaultVpcBase.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.vpc.DefaultVpcBase.vpcs">
<code class="descname">vpcs</code><em class="property"> = None</em><a class="headerlink" href="#c7n.filters.vpc.DefaultVpcBase.vpcs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.vpc.NetworkLocation">
<em class="property">class </em><code class="descclassname">c7n.filters.vpc.</code><code class="descname">NetworkLocation</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/vpc.html#NetworkLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.vpc.NetworkLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>On a network attached resource, determine intersection of
security-group attributes, subnet attributes, and resource attributes.</p>
<p>The use case is a bit specialized, for most use cases using <cite>subnet</cite>
and <cite>security-group</cite> filters suffice. but say for example you wanted to
verify that an ec2 instance was only using subnets and security groups
with a given tag value, and that tag was not present on the resource.</p>
<dl class="attribute">
<dt id="c7n.filters.vpc.NetworkLocation.permissions">
<code class="descname">permissions</code><em class="property"> = (u'ec2:DescribeSecurityGroups', u'ec2:DescribeSubnets')</em><a class="headerlink" href="#c7n.filters.vpc.NetworkLocation.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.vpc.NetworkLocation.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/vpc.html#NetworkLocation.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.vpc.NetworkLocation.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.vpc.NetworkLocation.process_resource">
<code class="descname">process_resource</code><span class="sig-paren">(</span><em>r</em>, <em>resource_sgs</em>, <em>resource_subnets</em>, <em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/vpc.html#NetworkLocation.process_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.vpc.NetworkLocation.process_resource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.vpc.NetworkLocation.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'compare': {u'description': u'Which elements of network location should be considered when matching.', u'items': {u'enum': [u'resource', u'subnet', u'security-group']}, u'type': u'array', u'default': [u'resource', u'subnet', u'security-group']}, u'missing-ok': {u'description': u'How to handle missing keys on elements, by default this causes resources to be considered not-equal', u'type': u'boolean', u'default': False}, u'max-cardinality': {u'type': u'integer', u'title': u'', u'default': 1}, u'key': {u'description': u'The attribute expression that should be matched on', u'type': u'string'}, u'match': {u'enum': [u'equal', u'non-equal'], u'type': u'string', u'default': u'non-equal'}, u'type': {u'enum': [u'network-location']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'key', u'type']}</em><a class="headerlink" href="#c7n.filters.vpc.NetworkLocation.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.filters.vpc.NetworkLocation.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/vpc.html#NetworkLocation.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.vpc.NetworkLocation.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.vpc.SecurityGroupFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.vpc.</code><code class="descname">SecurityGroupFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/vpc.html#SecurityGroupFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.vpc.SecurityGroupFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.related.RelatedResourceFilter" title="c7n.filters.related.RelatedResourceFilter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.related.RelatedResourceFilter</span></code></a></p>
<p>Filter a resource by its associated security groups.</p>
<dl class="attribute">
<dt id="c7n.filters.vpc.SecurityGroupFilter.AnnotationKey">
<code class="descname">AnnotationKey</code><em class="property"> = u'matched-security-groups'</em><a class="headerlink" href="#c7n.filters.vpc.SecurityGroupFilter.AnnotationKey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.vpc.SecurityGroupFilter.RelatedResource">
<code class="descname">RelatedResource</code><em class="property"> = u'c7n.resources.vpc.SecurityGroup'</em><a class="headerlink" href="#c7n.filters.vpc.SecurityGroupFilter.RelatedResource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.vpc.SecurityGroupFilter.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'operator': {u'enum': [u'and', u'or']}, u'default': {u'type': u'object'}, u'key': {u'type': u'string'}, u'value_from': {u'properties': {u'format': {u'enum': [u'csv', u'json', u'txt', u'csv2dict']}, u'expr': {u'oneOf': [{u'type': u'integer'}, {u'type': u'string'}]}, u'url': {u'type': u'string'}}, u'additionalProperties': u'False', u'type': u'object', u'required': [u'url']}, u'match-resource': {u'type': u'boolean'}, u'value_type': {u'enum': [u'age', u'integer', u'expiration', u'normalize', u'size', u'cidr', u'cidr_size', u'swap', u'resource_count', u'expr']}, u'op': {u'enum': [u'equal', u'lt', u'le', u'gte', u'ne', u'ni', u'not-equal', u'greater-than', u'gt', u'eq', u'contains', u'lte', u'regex', u'intersect', u'in', u'glob', u'not-in', u'less-than', u'ge']}, u'value': {u'oneOf': [{u'type': u'array'}, {u'type': u'string'}, {u'type': u'boolean'}, {u'type': u'number'}, {u'type': u'null'}]}, u'type': {u'enum': [u'security-group']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'type']}</em><a class="headerlink" href="#c7n.filters.vpc.SecurityGroupFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.filters.vpc.SubnetFilter">
<em class="property">class </em><code class="descclassname">c7n.filters.vpc.</code><code class="descname">SubnetFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/c7n/filters/vpc.html#SubnetFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.filters.vpc.SubnetFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.filters.related.RelatedResourceFilter" title="c7n.filters.related.RelatedResourceFilter"><code class="xref py py-class docutils literal"><span class="pre">c7n.filters.related.RelatedResourceFilter</span></code></a></p>
<p>Filter a resource by its associated subnets.</p>
<dl class="attribute">
<dt id="c7n.filters.vpc.SubnetFilter.AnnotationKey">
<code class="descname">AnnotationKey</code><em class="property"> = u'matched-subnets'</em><a class="headerlink" href="#c7n.filters.vpc.SubnetFilter.AnnotationKey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.vpc.SubnetFilter.RelatedResource">
<code class="descname">RelatedResource</code><em class="property"> = u'c7n.resources.vpc.Subnet'</em><a class="headerlink" href="#c7n.filters.vpc.SubnetFilter.RelatedResource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.filters.vpc.SubnetFilter.schema">
<code class="descname">schema</code><em class="property"> = {u'properties': {u'operator': {u'enum': [u'and', u'or']}, u'default': {u'type': u'object'}, u'key': {u'type': u'string'}, u'value_from': {u'properties': {u'format': {u'enum': [u'csv', u'json', u'txt', u'csv2dict']}, u'expr': {u'oneOf': [{u'type': u'integer'}, {u'type': u'string'}]}, u'url': {u'type': u'string'}}, u'additionalProperties': u'False', u'type': u'object', u'required': [u'url']}, u'match-resource': {u'type': u'boolean'}, u'value_type': {u'enum': [u'age', u'integer', u'expiration', u'normalize', u'size', u'cidr', u'cidr_size', u'swap', u'resource_count', u'expr']}, u'op': {u'enum': [u'equal', u'lt', u'le', u'gte', u'ne', u'ni', u'not-equal', u'greater-than', u'gt', u'eq', u'contains', u'lte', u'regex', u'intersect', u'in', u'glob', u'not-in', u'less-than', u'ge']}, u'value': {u'oneOf': [{u'type': u'array'}, {u'type': u'string'}, {u'type': u'boolean'}, {u'type': u'number'}, {u'type': u'null'}]}, u'type': {u'enum': [u'subnet']}}, u'additionalProperties': False, u'type': u'object', u'required': [u'type']}</em><a class="headerlink" href="#c7n.filters.vpc.SubnetFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.filters">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-c7n.filters" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="c7n.reports.html" class="btn btn-neutral float-right" title="c7n.reports package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="c7n.html" class="btn btn-neutral" title="c7n package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Capital One Services, LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/js/expand.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>