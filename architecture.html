<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Architecture &mdash; Cloud Maid 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/style.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Cloud Maid 1.0 documentation" href="index.html" />
    <link rel="next" title="Developer Install" href="developer.html" />
    <link rel="prev" title="Overview" href="overview.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="index.html">Cloud Maid 1.0 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="overview.html" title="Overview"
             accesskey="P">previous</a> |
          <a href="developer.html" title="Developer Install"
             accesskey="N">next</a> |
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="architecture">
<h1>Architecture<a class="headerlink" href="#architecture" title="Permalink to this headline">¶</a></h1>
<div class="section" id="terms">
<h2>Terms<a class="headerlink" href="#terms" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first"><em>Policy</em></p>
<p>Defined in yaml, specifies a set of filters and actions to take
on a given aws resource type.</p>
</li>
<li><p class="first"><em>Resource Manager</em></p>
<p>Provides for retrieval of a resources of a given type (typically via aws api) and defines the vocabulary of filters and actions that can be used on those resource. Example resource types are autoscalegroups, s3 buckets, ec2 instances, elbs, etc).</p>
</li>
<li><p class="first"><em>Filter</em></p>
<p>Given a set of resources, how do we filter to the subset that we&#8217;re interested in operating on. The filtering language has some default behaviors across resource types like value filtering with jmespath expressions against the json representation of a resource, as well specific filters for particular resources types (instance age, tag count, etc).</p>
</li>
<li><p class="first"><em>Action</em></p>
<p>A verb to use on a given resource, ie. stop, start, suspend
delete, encrypt, etc.</p>
</li>
</ul>
</div>
<div class="section" id="policy-execution">
<h2>Policy Execution<a class="headerlink" href="#policy-execution" title="Permalink to this headline">¶</a></h2>
<p>TODO, document diagram, to show generic output management
and sequencing.</p>
</div>
<div class="section" id="model-definition">
<h2>Model Definition<a class="headerlink" href="#model-definition" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Validation</li>
<li>Imports</li>
<li>Formats<ul>
<li>yaml</li>
</ul>
</li>
<li>Serialization and Exchange Formats</li>
<li>For record serialization, we preferentially use bson over json for its
datetime support.</li>
</ul>
</div>
<div class="section" id="operations-design-goals">
<h2>Operations Design Goals<a class="headerlink" href="#operations-design-goals" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">Configuration either S3 or Git Config</p>
</li>
<li><p class="first">Stateless by design (this simplifies scaling)</p>
<ul class="simple">
<li>Dev can run with a local cache file.</li>
<li>Considering optional cache / Redis / S3 State File (kv) / MongoDB</li>
</ul>
</li>
<li><p class="first">IAM Policy Generation</p>
</li>
<li><p class="first">Policy level Outputs</p>
<ul>
<li><p class="first">Data S3 at Element Level</p>
</li>
<li><p class="first">Metrics at Element Level</p>
<ul>
<li><p class="first">Execution Time</p>
</li>
<li><dl class="first docutils">
<dt>Resource Counts</dt>
<dd><ul class="first last simple">
<li>Modified</li>
</ul>
</dd>
</dl>
</li>
</ul>
</li>
<li><p class="first">Alerts (SNS)</p>
<ul class="simple">
<li>Error</li>
<li>Completion</li>
</ul>
</li>
<li><p class="first">SNS Notifications</p>
</li>
<li><p class="first">Worker</p>
</li>
<li><p class="first">Output channels</p>
</li>
</ul>
</li>
<li><p class="first">Cron / Lambda Execution</p>
</li>
</ul>
</div>
<div class="section" id="not-yet">
<h2>Not yet<a class="headerlink" href="#not-yet" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Distributed</li>
<li>Autoscaling</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#terms">Terms</a></li>
<li class="toctree-l2"><a class="reference internal" href="#policy-execution">Policy Execution</a></li>
<li class="toctree-l2"><a class="reference internal" href="#model-definition">Model Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#operations-design-goals">Operations Design Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#not-yet">Not yet</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="developer.html">Developer Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="filter-values.html">Value Filters</a></li>
<li class="toctree-l1"><a class="reference internal" href="ec2.html">EC2 Policy Definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="s3.html">S3 Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="comparisons.html">Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="lambda.html">Lambda Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="offhours.html">Offhours support</a></li>
<li class="toctree-l1"><a class="reference internal" href="offhours.html#tag-based-configuration">Tag Based Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="offhours.html#policy-examples">Policy examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="offhours.html#options">Options</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
            <p class="searchtip" style="font-size: 90%">
                Enter search terms or a module, class or function name.
            </p>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="overview.html" title="Overview"
              >previous</a> |
            <a href="developer.html" title="Developer Install"
              >next</a> |
            <a href="py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="_sources/architecture.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &copy; Copyright 2015, Kapil Thangavelu.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>